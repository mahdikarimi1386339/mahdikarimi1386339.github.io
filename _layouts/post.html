<!doctype html>
<html lang="en">
    {% include head.html %}
    <body>
        <div class="page-wrapper">
            <div class="container">
                {% include header.html %}
                <main class="post">
                    <h1>
                        <a href="{{ page.url | relative_url }}">
                            {{ page.title }}
                        </a>
                    </h1>
                    {% if page.description %}
                    <p class="post-description">{{ page.description }}</p>
                    {% endif %}
                    {% if page.date %}
                    <p class="post-date">{{ page.date | date: "%B %d, %Y" }}</p>
                    {% endif %} 
                    <div class="post-content">{{ content }}</div>
                </main>
                {% include footer.html %}
            </div>
        </div>
        <!-- scripts for button -->
        <script>            
            var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
            var themeToggleBtn = document.getElementById('theme-toggle');

            // تغییر آیکون بر اساس وضعیت فعلی
            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                themeToggleLightIcon.classList.remove('hidden');
                document.documentElement.classList.add('dark');
            } else {
                themeToggleDarkIcon.classList.remove('hidden');
                document.documentElement.classList.remove('dark');
            }

            themeToggleBtn.addEventListener('click', function() {
                // جابجایی آیکون‌ها
                themeToggleDarkIcon.classList.toggle('hidden');
                themeToggleLightIcon.classList.toggle('hidden');

                // جابجایی کلاس Dark در تگ html و ذخیره در LocalStorage
                if (localStorage.getItem('color-theme')) {
                    if (localStorage.getItem('color-theme') === 'light') {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    }
                } else {
                    if (document.documentElement.classList.contains('dark')) {
                        document.documentElement.classList.remove('dark');
                        localStorage.setItem('color-theme', 'light');
                    } else {
                        document.documentElement.classList.add('dark');
                        localStorage.setItem('color-theme', 'dark');
                    }
                }
            });
        </script>
    </body>
</html>
